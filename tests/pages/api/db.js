
const getFiles = require("../../utils/getFiles")

/**
 * Extract json db file from report folder.
 * These json files are benchmark results saved as json.
 * The results are generated by autocannon load tests.
 */
export default async(req,res)=>{

  const files = await getFiles("./report")
  const jsonDb = files.filter(item=>item.type==="json")

  res.statusCode = 200
  res.setHeader("content-type","application/json")
  res.end(JSON.stringify(jsonDb))

}